export function createErrorsHandler(errorHandlers, instance) {
    return async function errorHandler(error, request, reply) {
        for (const handler of errorHandlers) {
            if (handler.accepts(error)) {
                try {
                    await instance[handler.handlerName](error, request, reply);
                    return;
                }
                catch (e) {
                    error = e;
                }
            }
        }
        throw error;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLWVycm9ycy1oYW5kbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbGliL2RlY29yYXRvcnMvaGVscGVycy9jcmVhdGUtZXJyb3JzLWhhbmRsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBVUEsTUFBTSxVQUFVLG1CQUFtQixDQUNqQyxhQUFzQyxFQUN0QyxRQUE4RjtJQUU5RixPQUFPLEtBQUssVUFBVSxZQUFZLENBQUMsS0FBWSxFQUFFLE9BQXVCLEVBQUUsS0FBbUI7UUFDM0YsS0FBSyxNQUFNLE9BQU8sSUFBSSxhQUFhLEVBQUU7WUFDbkMsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUMxQixJQUFJO29CQUNGLE1BQU0sUUFBUSxDQUFDLE9BQU8sQ0FBQyxXQUFxQixDQUFDLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDckUsT0FBTztpQkFDUjtnQkFBQyxPQUFPLENBQUMsRUFBRTtvQkFDVixLQUFLLEdBQUcsQ0FBQyxDQUFDO2lCQUNYO2FBQ0Y7U0FDRjtRQUVELE1BQU0sS0FBSyxDQUFDO0lBQ2QsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBBbmRyZXkgQ2hhbGtpbiA8TDJqTGlnYUBnbWFpbC5jb20+IChodHRwczovL2dpdGh1Yi5jb20vTDJqTGlnYSkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9naXRodWIuY29tL0wyakxpZ2EvZmFzdGlmeS1kZWNvcmF0b3JzL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqL1xuaW1wb3J0IHR5cGUgeyBGYXN0aWZ5UmVwbHksIEZhc3RpZnlSZXF1ZXN0IH0gZnJvbSAnZmFzdGlmeSc7XG5pbXBvcnQgeyBJRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9jb250cm9sbGVyLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yc0hhbmRsZXIoXG4gIGVycm9ySGFuZGxlcnM6IEl0ZXJhYmxlPElFcnJvckhhbmRsZXI+LFxuICBpbnN0YW5jZTogUmVjb3JkPHN0cmluZywgKGVycm9yOiBFcnJvciwgcmVxdWVzdDogRmFzdGlmeVJlcXVlc3QsIHJlcGx5OiBGYXN0aWZ5UmVwbHkpID0+IHZvaWQ+LFxuKTogKGVycm9yOiBFcnJvciwgcmVxdWVzdDogRmFzdGlmeVJlcXVlc3QsIHJlcGx5OiBGYXN0aWZ5UmVwbHkpID0+IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycm9yOiBFcnJvciwgcmVxdWVzdDogRmFzdGlmeVJlcXVlc3QsIHJlcGx5OiBGYXN0aWZ5UmVwbHkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgZXJyb3JIYW5kbGVycykge1xuICAgICAgaWYgKGhhbmRsZXIuYWNjZXB0cyhlcnJvcikpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBpbnN0YW5jZVtoYW5kbGVyLmhhbmRsZXJOYW1lIGFzIHN0cmluZ10oZXJyb3IsIHJlcXVlc3QsIHJlcGx5KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aHJvdyBlcnJvcjtcbiAgfTtcbn1cbiJdfQ==