'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

/**
 * @license
 * Copyright Andrey Chalkin <L2jLiga@gmail.com> (https://github.com/L2jLiga). All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/L2jLiga/fastify-decorators/blob/master/LICENSE
 */
const scopedInstances = new WeakMap();
const defaultScope = {};
const dependencyScopeManager = {
    add(scope, dependency, instance) {
        const instances = scopedInstances.get(scope) || new Map();
        instances.set(dependency, instance);
        scopedInstances.set(scope, instances);
    },
    has(scope, dependency) {
        return scopedInstances.has(scope) && scopedInstances.get(scope).has(dependency);
    },
    get(scope, dependency) {
        if (!scopedInstances.has(scope))
            return;
        const instances = scopedInstances.get(scope);
        return instances.get(dependency);
    },
    clear(scope) {
        scopedInstances.delete(scope);
    },
};

exports.defaultScope = defaultScope;
exports.dependencyScopeManager = dependencyScopeManager;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbbnVsbF0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7In0=
