'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

/**
 * Adds tags into fastify Swagger/OpenAPI specification when application is ready to start
 * @param instance of application
 * @param tags to add to OpenAPI/Swagger doc
 */
function injectTagsIntoSwagger(instance, tags) {
    if (tags.length === 0)
        return;
    instance.addHook('onReady', async () => {
        const swaggerConfig = getSwaggerConfig(instance);
        if (!swaggerConfig)
            return;
        swaggerConfig.tags = swaggerConfig.tags || [];
        swaggerConfig.tags.push(...tags);
    });
}
function getSwaggerConfig(instance) {
    if ('swagger' in instance)
        return instance.swagger();
    if ('oas' in instance)
        return instance.oas();
    if ('openapiDocument' in instance)
        return instance.openapiDocument;
}

exports.injectTagsIntoSwagger = injectTagsIntoSwagger;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbbnVsbF0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsifQ==
