'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var injectDependencies = require('../decorators/helpers/inject-dependencies.cjs');
var _injectablesHolder = require('../registry/_injectables-holder.cjs');
var index = require('../symbols/index.cjs');

/**
 * @license
 * Copyright Andrey Chalkin <L2jLiga@gmail.com> (https://github.com/L2jLiga). All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/L2jLiga/fastify-decorators/blob/master/LICENSE
 */
function getInstanceByToken(token) {
    const classLoader = injectDependencies.classLoaderFactory(_injectablesHolder._injectablesHolder);
    const injectable = _injectablesHolder._injectablesHolder.get(token);
    verifyInjectable(token, injectable);
    return injectable[index.CREATOR].register(classLoader);
}
function verifyInjectable(token, injectable) {
    if (!injectable)
        throw new Error(`Injectable not found for token "${token.toString()}"`);
}

exports.getInstanceByToken = getInstanceByToken;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbbnVsbF0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLCtDQUE4QztBQUMvRSxpQ0FBaUMscUNBQW9DO0FBQ3JFLG9CQUFvQixzQkFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsifQ==
